<!DOCTYPE html>
<html style="width: 100%;height: 100%">
<head>
<title>.</title>
<meta charset="UTF-8"/>
<meta name="viewport"
	  content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no"/>
<meta http-equiv="X-UA-Compatible" content="ie=edge"/>
</head>
<script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/1.10.0/jquery.min.js"></script>
<style>
	*{margin:0;padding:0}
</style>
<script>
    var isPageHide = false;

    window.addEventListener('pageshow', function () {
        if (isPageHide) {
            window.location.reload();
        }
    });
    window.addEventListener('pagehide', function () {
        isPageHide = true;
    });

    var videoList = [
        {img: 'https://6d69-miofly-k1xjk-1303051262.tcb.qcloud.la/images/glnz/1.jpg'},
        {img: 'https://6d69-miofly-k1xjk-1303051262.tcb.qcloud.la/images/glnz/2.jpg'},
        {img: 'https://6d69-miofly-k1xjk-1303051262.tcb.qcloud.la/images/glnz/3.jpg'},
        {img: 'https://6d69-miofly-k1xjk-1303051262.tcb.qcloud.la/images/glnz/4.jpg'},
        {img: 'https://6d69-miofly-k1xjk-1303051262.tcb.qcloud.la/images/glnz/5.jpg'},
        {img: 'https://6d69-miofly-k1xjk-1303051262.tcb.qcloud.la/images/glnz/6.jpg'},
        {img: 'https://6d69-miofly-k1xjk-1303051262.tcb.qcloud.la/images/glnz/7.jpg'},
    ]

    var list = [
        'http://mp.weixin.qq.com/s?__biz=Mzg3OTM4NzI1Ng==&mid=100000118&idx=1&sn=03f7b0339a0813601ce28c1bd7dc3137&chksm=4f0476617873ff77c223771fc13aa94fa8d4cab760421ac1d580274710377456419ae0ef064b#rd', // 发大阅读
        'http://mp.weixin.qq.com/s?__biz=MzU1MDgwMzI4Nw==&mid=100000022&idx=1&sn=a33c3ac55467e5acbe57653e01719eb5&chksm=7b9a432e4cedca3834ecce7574009f34aef77aedb9e7e7e854941135dca3dcb4d9b8cf65dee0#rd', // 淼淼订阅号
        'http://mp.weixin.qq.com/s?__biz=MzkwNzEzMzc5MQ==&mid=100000008&idx=1&sn=39fc03938aa75cd975954aa9b2fcf6fb&chksm=40dc973877ab1e2ec49d3905194ccf7035c79b187982d3013fd381a0396d260480b509980572#rd', // 娜玉好美
        'http://mp.weixin.qq.com/s?__biz=Mzg3NjQ1MjAzNg==&mid=100000031&idx=1&sn=9ec47530647266f8bb266584d5df2546&chksm=4f3340b47844c9a2c80d101c4293468d49ae725d407488796c2cb902fe0612d5838fd435dc15#rd', // 清淡阅读
        'http://mp.weixin.qq.com/s?__biz=Mzg5MTQ1MzI1OQ==&mid=100000008&idx=1&sn=3a7852707268e2b2a6c10c98556fe269&chksm=4fcc6b2c78bbe23a48e3ec067a7207977e78503ff7e5672692792d5906c0c39ee0d9a71d1878#rd'// 木吉阅读
    ]

    function setCookie(cname, cvalue, days) {
        var expires = ''
        if (days == 0) {
            expires = 'expires=Fri, 31 Dec 9999 23:59:59 GMT'
        } else {
            var d = new Date()
            d.setTime(d.getTime() + (days * 24 * 60 * 60 * 1000))
            expires = `expires=${d.toUTCString()}`
        }
        document.cookie = `${cname}=${cvalue};${expires};path=/`
    }

    function getCookie(cname) {
        var name = cname + '='
        var ca = document.cookie.split(';')
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i]
            while (c.charAt(0) == ' ') {
                c = c.substring(1)
            }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length)
            }
        }
        return ''
    }

    var sj = makeRandomArr(videoList, 1)
    window.onload = function () {
        var url = makeRandomArr(list, 1).join()
        if (getCookie('xcxCount') == 1){
            // location.href = url
        } else {
            setTimeout(function () {
                setCookie('xcxCount', '1', 0.01);
                // location.href = url
            }, 500)
        }
        document.body.innerHTML = '<div style="position: fixed;top:50%;left:50%;transform:translate(-50%,-50%);text-align: center"><div style="color: white;">Loading...</div><img src="loading1.gif"></div>'

    }

    function makeRandomArr(arrList, num) { // 随机取出数组元素
        if (num > arrList.length) {
            num = arrList.length
        }
        const tempArr = arrList.slice(0)
        const newArrList = []
        for (var i = 0; i < num; i++) {
            const random = Math.floor(Math.random() * (tempArr.length))
            const arr = tempArr[random]
            tempArr.splice(random, 1)
            newArrList.push(arr)
        }
        return newArrList
    }
</script>
<body style="background: black;height: 100%;width: 100%">
</body>
</html>
